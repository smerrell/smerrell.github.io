<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Make Testing Easy | Sam Merrell</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Testing. We all know that we should do it, and yet often times we find
ourselves struggling to stay consistent in testing our code. I know that I
personally find it difficult sometimes to really stick">
<meta property="og:type" content="article">
<meta property="og:title" content="Make Testing Easy">
<meta property="og:url" content="http://smerrell.github.io/2012/12/06/make-testing-easy/index.html">
<meta property="og:site_name" content="Sam Merrell">
<meta property="og:description" content="Testing. We all know that we should do it, and yet often times we find
ourselves struggling to stay consistent in testing our code. I know that I
personally find it difficult sometimes to really stick">
<meta property="og:updated_time" content="2015-12-24T00:44:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Make Testing Easy">
<meta name="twitter:description" content="Testing. We all know that we should do it, and yet often times we find
ourselves struggling to stay consistent in testing our code. I know that I
personally find it difficult sometimes to really stick">
<meta name="twitter:creator" content="@smerrell">
  
    <link rel="alternative" href="/atom.xml" title="Sam Merrell" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-35739428-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Sam Merrell</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        <a id="nav-twitter-link" class="nav-icon" href="https://twitter.com/smerrell" title="Twitter"></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://smerrell.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-make-testing-easy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/12/06/make-testing-easy/" class="article-date">
  <time datetime="2012-12-07T06:26:00.000Z" itemprop="datePublished">2012-12-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Make Testing Easy
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Testing. We all know that we should do it, and yet often times we find
ourselves struggling to stay consistent in testing our code. I know that I
personally find it difficult sometimes to really stick to and test my code,
and guess what happens when you don’t test your code. It comes back to haunt
you.</p>
<p>I was discussing this with my coworker <a href="http://ryanhauert.com" target="_blank" rel="external">Ryan</a> about
this very problem, and it got me thinking I should write it down. (It also
helps he suggested it would be a possible blog post topic, so thanks Ryan).</p>
<h1 id="When_I_Test">When I Test</h1><p>At Extend Health, I’ve been working on a specific project for quite some time
now. I got the privilege to start out with a new greenfield project and have
watched it transform over the last year. When we first started out, we had to
keep our business process running by pretty much glue and duct tape to make it
through the Annual Enrollment Period. Those were rough times filled with
taking an existing Microsoft Access project and getting it to talk to SQL
server on the backend so the data was at least in one place.</p>
<p>It was rough, but interestingly we were determined to keep things tested.
Since basically all logic had to go into the DB at the time, we looked at SQL
testing frameworks. We stumbled on <a href="http://tsqlt.org/" target="_blank" rel="external">tsqlt</a> and found it
helped us quite a bit. But even with a testing framework we found it very
difficult to write tests.</p>
<p>On the next revision of our project, we got to start completely fresh and
built our system using CQRS and Event Sourcing. With a clean code base and
pretty good discipline, we were able to consistently keep our code tested and
often we wrote test first. Not always, but a good portion of the time anyway.</p>
<h1 id="Then_Things_Get_Hard">Then Things Get Hard</h1><p>After working on my last project, I got some time to add to a large project we
have based around WPF and <a href="http://caliburn.codeplex.com/" target="_blank" rel="external">Caliburn</a>. This is
when I noticed I started to throw my testing habits out the window and just
cowboy code everything. But why would I knowingly throw testing out the
window?</p>
<p>Then I sat down and thought about it. What was the main thing that I was using
to justify my lack of tests, even though I know I should be doing them? It
really came down to one thing for me, testing the code base was <em>hard</em>. Boo
hoo, right? But it really comes down to friction making tests surpassing my
will to write the test.</p>
<h1 id="Well_What_Do_We_Do_About_This?">Well What Do We Do About This?</h1><p>So what exactly do we do about this so we actually test our code? I’m going to
throw my favorite programmer answer at that one: it depends. I know, I know,
that is the lame answer but it really is true from what I can tell. Really it
just depends on if you’re working with existing code or starting out fresh.
Since it isn’t too common to just get a new, fresh codebase to start with lets
look at the existing code problem.</p>
<p>The way I see it, there really is only one way to go with an existing
solution. You can start by beefing up your test helpers to make setup as
painless as possible, and while you’re doing that you get a bonus. It helps
you identify areas in your code that are very painful to test. Once you’ve got
your test helpers automating the suck away as much as possible, you can start
to identify the most problematic code to test.</p>
<p>Perhaps you have un-mockable or difficult to mock classes? God objects being
used everywhere? Either way, once you identify the problem areas you can pick
them apart one by one and write the new code using tests, of course. Obviously
it sucks to have to do this slowly but I don’t really see another way to take
it besides griding down the painful pieces as you can.</p>
<h1 id="So_The_Moral_Of_The_Story_Is">So The Moral Of The Story Is</h1><p>You’ve got to make your code easy to test or you are going to find ways to
convince yourself you don’t need to write them. Simple I know, but it helps to
stay disciplined when the code lends itself to testing. If you have a codebase
that is really difficult to test, then it is worth the investment to make it
as easy as possible. This means you can make helpers for the tests while you
chip away at the really hard parts of the code. In the end, you’ll thank
yourself for doing it.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://smerrell.github.io/2012/12/06/make-testing-easy/" data-id="ciijj5q9l000jbq1yzujy40gi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/testing/">testing</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2012/12/14/agile-is-hard/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Agile is Hard
        
      </div>
    </a>
  
  
    <a href="/2012/12/01/looking-back-development-retrospective/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Looking Back: Development Retrospective</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/12/23/learning-rust-as-a-csharp-developer/">Learning Rust as a C# Developer</a>
          </li>
        
          <li>
            <a href="/2012/12/14/agile-is-hard/">Agile is Hard</a>
          </li>
        
          <li>
            <a href="/2012/12/06/make-testing-easy/">Make Testing Easy</a>
          </li>
        
          <li>
            <a href="/2012/12/01/looking-back-development-retrospective/">Looking Back: Development Retrospective</a>
          </li>
        
          <li>
            <a href="/2012/11/18/giving-sublime-text-2-a-try/">Giving Sublime Text 2 A Try</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/OSX/">OSX</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tools/">Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/agile/">agile</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/">bash</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/career/">career</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/">csharp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dev-setup/">dev-setup</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/editors/">editors</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kanban/">kanban</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opensource/">opensource</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/random/">random</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/retrospective/">retrospective</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rust/">rust</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scrum/">scrum</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell-scripting/">shell-scripting</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/softwaredev/">softwaredev</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sublimetext/">sublimetext</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testing/">testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thoughts/">thoughts</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/OSX/" style="font-size: 10px;">OSX</a> <a href="/tags/Tools/" style="font-size: 10px;">Tools</a> <a href="/tags/agile/" style="font-size: 10px;">agile</a> <a href="/tags/automation/" style="font-size: 20px;">automation</a> <a href="/tags/bash/" style="font-size: 10px;">bash</a> <a href="/tags/career/" style="font-size: 10px;">career</a> <a href="/tags/csharp/" style="font-size: 10px;">csharp</a> <a href="/tags/dev-setup/" style="font-size: 20px;">dev-setup</a> <a href="/tags/editors/" style="font-size: 10px;">editors</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/kanban/" style="font-size: 10px;">kanban</a> <a href="/tags/opensource/" style="font-size: 10px;">opensource</a> <a href="/tags/random/" style="font-size: 10px;">random</a> <a href="/tags/retrospective/" style="font-size: 10px;">retrospective</a> <a href="/tags/rust/" style="font-size: 10px;">rust</a> <a href="/tags/scrum/" style="font-size: 10px;">scrum</a> <a href="/tags/shell-scripting/" style="font-size: 10px;">shell-scripting</a> <a href="/tags/softwaredev/" style="font-size: 10px;">softwaredev</a> <a href="/tags/sublimetext/" style="font-size: 10px;">sublimetext</a> <a href="/tags/testing/" style="font-size: 10px;">testing</a> <a href="/tags/thoughts/" style="font-size: 10px;">thoughts</a>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Sam Merrell<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>